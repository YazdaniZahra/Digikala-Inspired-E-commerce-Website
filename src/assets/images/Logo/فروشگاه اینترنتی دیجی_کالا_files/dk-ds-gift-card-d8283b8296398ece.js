(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7071],{20414:function(t,r,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/main/dk-ds-gift-card",function(){return e(42318)}])},11390:function(t,r,e){"use strict";e.d(r,{u:function(){return s}});var n=e(82075),a=e(8398),u=e(1324),o=e(62069),i=e(56632),s=(0,u.q)({url:function(t){var r=t.categoryCode;return"/dynamic-category-page/".concat("".concat(r).replace("category-",""),"/")},transformer:function(t){var r=t.data;return(0,n.r)({data:r,isDynamicCategory:!0})},inputTransformer:(0,i.c_)(a.d,o.D),isPageGetRequest:!0})},48060:function(t,r,e){"use strict";e.d(r,{k:function(){return o}});var n=e(52322),a=e(15973),u=e(19587);function o(t){var r=t.ssrData,e=t.pending,o=(0,u.K)({data:null==r?void 0:r.data,widgetProps:{}});return(0,n.jsx)(a.E,{data:o,pending:e})}},42318:function(t,r,e){"use strict";e.r(r),e.d(r,{__getServerSideProps:function(){return c},default:function(){return l}});var n=e(40171),a=e(70865),u=e(52322),o=e(90287),i=e(11390),s=e(48060),d=(0,o.D)({component:function(t){return(0,u.jsx)(s.k,(0,a.Z)({},t))},getAPIMethods:function(){return[{apiMethod:i.u,apiData:{categoryCode:"category-giftcard"}}]},layoutProps:function(){return{chatKey:"search",noContentPadding:!0,desktopFullWidth:!0,desktopContentWidth:null}},noDefaultLoader:!0}),l=d,c=(0,n.I)({getSSRMethods:d.getAPIMethods,queryProps:d.dataProps})},90287:function(t,r,e){"use strict";e.d(r,{D:function(){return d}});var n=e(70865),a=e(52322),u=e(64665),o=e(42306),i=e(98324),s=e.n(i);function d(t){var r=t.component,e=t.getAPIMethods,i=t.layoutProps,d=t.isPrivate,l=t.noDefaultLoader,c=t.pageActivatorFeature,f=t.redirectIfLogin,v=t.afterLogin,p=t.disableSSR,y=t.dataProps,g=function(t){return(0,o.d)(u.X.LITE_PAGE_ANIMATION)?(0,a.jsx)("div",{className:s().container,children:(0,a.jsx)(r,(0,n.Z)({},t))}):(0,a.jsx)(r,(0,n.Z)({},t))};return g.getAPIMethods=e,g.layoutProps=i,g.isPrivate=d,g.noDefaultLoader=l,g.pageActivatorFeature=c,g.redirectIfLogin=f,g.afterLogin=v,g.disableSSR=p,g.dataProps=y,g}},62069:function(t,r,e){"use strict";e.d(r,{D:function(){return d}});var n=e(4547),a=e(89617),u=e(51071),o=e(83050),i=e(6013),s=e(79593);function d(){if(!s.s)try{var t=u.h.getState(),r=i.p.userCity(t),e=o.E.userDefaultCity(t),d=a.I.defaultCity(t);return(null==r?void 0:r.cityId)||(null==e?void 0:e.cityId)||(null==d?void 0:d.cityId)}catch(l){(0,n.g)("Failed to get current city ID",{error:l});return}}},40171:function(t,r,e){"use strict";e.d(r,{I:function(){return h}});var n=e(98788),a=e(70865),u=e(96670),o=e(22970),i=e(66582),s=e(89469),d=e(4547),l=e(79968),c=e(42306),f=e(41435),v=e(29890),p=e(74740),y=e(50020);function g(){return(g=(0,n.Z)(function(t){var r,e,n,u,i,c,v,g,h,P,S,_,m,q,I,R,D,N,A,E;return(0,o.__generator)(this,function(o){switch(o.label){case 0:if(r=t.getSSRMethods,e=t.query,n=t.queryParams,u=t.queryProps,i=t.renderAgent,v=(null==(c=(null==r?void 0:r({query:e,renderAgent:i}))||[])?void 0:c.length)>1?[]:{},g=null,s.ON)return[2,Promise.resolve({ssrData:v,queryData:g})];o.label=1;case 1:if(o.trys.push([1,8,,9]),(0,y.k)(u))return[3,3];return[4,null===(P=(h=(0,p.m)(u)?u({query:n}):u).apiMethod)||void 0===P?void 0:P.call(h,(0,a.Z)({},(0,p.m)(u.urlParamsTransformer)?u.urlParamsTransformer(e):e,(0,p.m)(u.apiData)?u.apiData((0,a.Z)({},n)):u.apiData),{queryParams:n})];case 2:g=o.sent(),o.label=3;case 3:if((0,f.x)(c))return[2,{ssrData:v,queryData:g}];if((null==c?void 0:c.length)!==1)return[3,5];return[4,(S=null==c?void 0:c[0]).apiMethod(S.apiData,{queryParams:n})];case 4:return v=o.sent(),[3,7];case 5:return[4,Promise.all(c.map(function(t){return(0,t.apiMethod)(t.apiData,{queryParams:n})}))];case 6:v=o.sent(),o.label=7;case 7:return[2,{ssrData:v,queryData:g}];case 8:return D=(null==(_=o.sent())?void 0:null===(m=_.data)||void 0===m?void 0:m.status)?null==_?void 0:null===(q=_.data)||void 0===q?void 0:q.status:(null==_?void 0:_.status)?null==_?void 0:_.status:500,N=(null==_?void 0:null===(I=_.data)||void 0===I?void 0:I.status)===301?(0,l.f)({data:null==_?void 0:null===(R=_.data)||void 0===R?void 0:R.redirect_url}):"",500===D&&(console.log("EXCEPTION-PREFETCH",_),(0,d.g)("API-500-ERROR",{endpoints:null==c?void 0:null===(A=c.map)||void 0===A?void 0:A.call(c,function(t){return null==t?void 0:t.url}),status:D,dataStatus:null==_?void 0:null===(E=_.data)||void 0===E?void 0:E.status,reqStatus:null==_?void 0:_.status})),404===D&&(0,d.g)("API 404!"),[2,Promise.resolve({ssrData:v,queryData:g,statusCode:D,redirectUrl:N})];case 9:return[2]}})})).apply(this,arguments)}var h=function(t){var r,e=t.getSSRMethods,d=t.pageActivatorFeature,l=t.queryProps,f=t.callback;return s.ON?void 0:(r=(0,n.Z)(function(t){var r,n,s,p,y,h,P,S,_,m,q,I,R;return(0,o.__generator)(this,function(o){switch(o.label){case 0:if(s={renderAgent:function(){var r,e,n;try{return(0,i.bG)(null===(e=t.req.headers)||void 0===e?void 0:e["user-agent"]).isMobile?"mobile":"desktop"}catch(a){console.log("ERROR user-agent:",null===(n=t.req.headers)||void 0===n?void 0:n["user-agent"],a)}return(null===(r=t.req.headers)||void 0===r?void 0:r["x-render-agent"])||"desktop"}()},t.res.setHeader("Cache-Control","public, max-age=".concat(21600)),d&&!(0,c.d)(d))return[2,{notFound:!0,props:{SSR_INTERNALS:s}}];p=null===(r=Object.keys(t.query||{}))||void 0===r?void 0:null===(n=r.filter)||void 0===n?void 0:n.call(r,function(r){var e;return!(null===(e=t.params)||void 0===e?void 0:e[r])}),y={},h=!0,P=!1,S=void 0;try{for(_=p[Symbol.iterator]();!(h=(m=_.next()).done);h=!0)y[q=m.value]=t.query[q]}catch(D){P=!0,S=D}finally{try{h||null==_.return||_.return()}finally{if(P)throw S}}if(!e&&!l)return[2,{props:{SSR_INTERNALS:s}}];return[4,function(t){return g.apply(this,arguments)}({getSSRMethods:e,renderAgent:s.renderAgent,queryProps:l,query:t.query,queryParams:y,pathname:t.path})];case 1:if(404===(I=o.sent()).statusCode)return[2,{notFound:!0,props:{SSR_INTERNALS:s}}];if(301===I.statusCode)return[2,{redirect:{destination:I.redirectUrl,permanent:!0},props:{SSR_INTERNALS:s}}];if(I.statusCode&&(t.res.statusCode=I.statusCode||200),R=null==f?void 0:f({props:I,query:t.query,params:t.params,queryParams:y}))return[2,(0,u.Z)((0,a.Z)({},R),{props:(0,u.Z)((0,a.Z)({},R.props||{}),{SSR_INTERNALS:s})})];return[2,{props:(0,u.Z)((0,a.Z)({},function t(r){if((0,v.k)(r)){var e=[];return r.forEach(function(r,n){void 0!==r&&(r===Object(r)?e[n]=t(r):e[n]=r)}),e}var n={};return Object.keys(r).forEach(function(e){var a=r[e];void 0!==a&&(a===Object(a)?n[e]=t(a):n[e]=a)}),n}(I)),{SSR_INTERNALS:s})}]}})}),function(t){return r.apply(this,arguments)})}},56632:function(t,r,e){"use strict";e.d(r,{c_:function(){return i}});var n=e(70865),a=e(68762),u=e.n(a),o=e(4547);function i(t,r){return function(e){var a=t?t(e):e;if(r)try{var i=r();if(i){var s,d=(s=function(t){if(!t)return"";var r={city_id:String(t)},e=JSON.stringify(r,Object.keys(r).sort());return u()(e).substring(0,12)}(i))?{_rch:s}:{};return(0,n.Z)({},a||{},d)}}catch(l){(0,o.g)("Failed to generate _rch parameter",{error:l,cityId:null==r?void 0:r()})}return a}}},98324:function(t){t.exports={container:"styles_container__TOHrJ","fade-out":"styles_fade-out__Z1zNL"}}},function(t){t.O(0,[2075,5517,9774,2888,179],function(){return t(t.s=20414)}),_N_E=t.O()}]);